import matplotlib.pyplot as plt
import numpy as np

no = [41, 62, 72, 121, 87, 109, 72, 64, 41, 38, 53]
yes = [76, 81, 44, 293, 215, 82, 92, 70, 44, 38, 69, 49, 54, 69, 85, 43, 82, 63]

entropies=[0.04112559043043326, 0.07761951223229455, 0.08354291827032016, 0.08887969244280675, 0.10106697748093958, 0.10928571102368997, 0.12148044516854614, 0.13303963357900808, 0.1410673488949714, 0.15935007796245526, 0.16232622188849583, 0.16232622188849583, 0.16866089941611132, 0.1703306077554373, 0.17925604678932758, 0.20559254505361096, 0.216396957763025, 0.22228481238211026, 0.2351934246186508, 0.23680409669532787, 0.242292215913509, 0.2713896174639781, 0.27619542636913913, 0.27619542636913913, 0.2863969755772612, 0.2863969755772612, 0.3046043861840282, 0.3274449188727035, 0.3298460773492211, 0.3372900666170139, 0.3372900666170139, 0.3372900666170139, 0.3372900666170139, 0.3372900666170139, 0.35335933825203963, 0.3674984938477429, 0.37123236831377726, 0.37123236831377726, 0.37123236831377726, 0.37123236831377726, 0.3760198325747283, 0.3912435640138092, 0.3912435640138092, 0.39662777277390865, 0.4048000103889037, 0.41381682945431153, 0.4193579470468189, 0.42200051509416037, 0.43949695702388086, 0.4689956271620503, 0.4689956271620503, 0.4689956271620503, 0.4689956271620503, 0.4689956271620503, 0.4689956271620503, 0.4689956271620503, 0.49716778125148, 0.5032583277762969, 0.5032583277762969, 0.5032583277762969, 0.5032583277762969, 0.5032583277762969, 0.5032583277762969, 0.5032583277762969, 0.5032583277762969, 0.5266170947553084, 0.5399357422237389, 0.5435644431995964, 0.5435644431995964, 0.5435644431995964, 0.5435644431995964, 0.5435644431995964, 0.5665095069099523, 0.5916727769065195, 0.5916727769065195, 0.5916727769065195, 0.5916727769065195, 0.5916727769065195, 0.5916727769065195, 0.5916727769065195, 0.5916727769065195, 0.6193821908677661, 0.629249208703671, 0.629249208703671, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6572522572971284, 0.6722948094918065, 0.6800770613754072, 0.684038447397006, 0.684038447397006, 0.6864381762935844, 0.6873151013952334, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7281342378690551, 0.7495952775631022, 0.7553754156196457, 0.7642044934059138, 0.7642044934059138, 0.7642044934059138, 0.7732267022011158, 0.787126571961033, 0.787126571961033, 0.8011546756078289, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8196004639609203, 0.8453509188201944, 0.8453509188201944, 0.8554507833130274, 0.8631205569220404, 0.8631205569220404, 0.8631205569220404, 0.8631205569220404, 0.8631205569220404, 0.8631205569220404, 0.8631205569220404, 0.8812909138027453, 0.8812909138027453, 0.8865408773683532, 0.8960382325345574, 0.8960382325345574, 0.9150255274526802, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9305861375457646, 0.9340680745261558, 0.94945203496658, 0.954434002924965, 0.954434002924965, 0.9636512564976807, 0.9709505769089396, 0.9709505769089396, 0.9709505769089396, 0.9709505769089396, 0.9709505769089396, 0.9709505769089396, 0.9709505769089396, 0.9709505769089396, 0.9798687716500208, 0.9852281188666513, 0.9852281188666513, 0.9852281188666513, 0.9852281188666513, 0.9852281188666513, 0.9852281188666513, 0.9899927927532473, 0.9910760431808585, 0.9911594754046334, 0.9952525646630467, 0.998363657595452, 0.9994110504044044, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]

#entropies=[0.06591441234324169, 0.0705017770321961, 0.10215801985531772, 0.10441908797634065, 0.20062232431271465, 0.20559254505361096, 0.25801865686960584, 0.3319320272133028, 0.3372900666170139, 0.34511730752709524, 0.35335933825203963, 0.37123236831377726, 0.41381682945431153, 0.41381682945431153, 0.45371633527547156, 0.45371633527547156, 0.463436785296601, 0.4642302034676279, 0.4689956271620503, 0.4689956271620503, 0.5032583277762969, 0.5095156852677369, 0.5435644431995964, 0.5435644431995964, 0.5435644431995964, 0.5435644431995964, 0.5916727769065195, 0.5916727769065195, 0.5940432081284508, 0.5983473922063999, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6609623283341426, 0.6609623283341426, 0.6739561973608957, 0.684038447397006, 0.6968829583792356, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7298467095627656, 0.7543533586366795, 0.7642044934059138, 0.7793498234255013, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8371000390889567, 0.8453509188201944, 0.8524051969085213, 0.8534739376469274, 0.8631205569220404, 0.8708644846876519, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9206198401857063, 0.9206198401857063, 0.9206198401857065, 0.9214632438719762, 0.9400664543100069, 0.946394630357186, 0.954434002924965, 0.9602297186056773, 0.9609640510142456, 0.9709505769089396, 0.9821410381203297, 0.9852281188666513, 0.9852281188666513, 0.9852281188666513, 0.9876925219654772, 0.9957274362150945, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.000000002675079, 1.000000002675079, 1.000000005642549]

#entropies=[0.059092890656693, 0.06733701913856642, 0.06889754177569622, 0.07555373256088568, 0.07885604897102487, 0.13663979548079763, 0.14303206327196133, 0.14372615444495762, 0.16132065489138062, 0.17862908698655325, 0.20062232431271465, 0.20062232431271465, 0.2082968763913896, 0.216396957763025, 0.22060495819155912, 0.22853811422085762, 0.25127675058682647, 0.2549929688420775, 0.26676501425083504, 0.2863969755772612, 0.29747222005121116, 0.32275695472530375, 0.3265813745324366, 0.35335933825203963, 0.3589962717687478, 0.3670887590107337, 0.41381682945431153, 0.41381682945431153, 0.4689956271620503, 0.4689956271620503, 0.4689956271620503, 0.5032583277762969, 0.5032583277762969, 0.5435644431995964, 0.5916727769065195, 0.6051865433172774, 0.6252624052234231, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.6500224507598087, 0.708835661456103, 0.7219280841470979, 0.7219280841470979, 0.7219280841470979, 0.7335379507720029, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8112781244591328, 0.8453509188201944, 0.8812909138027453, 0.8812909138027453, 0.8901514383824822, 0.8904916264445839, 0.8904916264445839, 0.9103058530033012, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9182958184261748, 0.9215257263660209, 0.946394630357186, 0.9656361525437833, 0.975503777665035, 0.9882836113920628, 0.9895875203925417, 0.9970590576050634, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0000000131693294]
 

lines = file("grammar-list-len.txt").read().split("\n")
X = [int(x) for x in lines if len(x.strip())>0]
#X = [x for x in X if x<1000]

X = sorted(X)
print "median=%d avg=%f\n" % (X[len(X)/2], sum(X)/float(len(X)))
nvalues = len(X)
X = X[0:int(len(X)*.75)] # get 90th percentile only

# the histogram of the data
n, bins, patches = plt.hist(entropies, 20, normed=1, facecolor='green', alpha=0.75)
#n, bins, patches = plt.hist(X, 50, normed=1, facecolor='green', alpha=0.75)
# n, bins, patches = plt.hist(no, 10, normed=1, facecolor='green', alpha=0.75)
# n, bins, patches = plt.hist(yes, 10, normed=1, facecolor='green', alpha=0.75)

plt.grid(True)

print np.median(entropies)
print np.mean(entropies)

plt.show()
